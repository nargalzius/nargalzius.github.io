"use strict";function VimeoVideoPlayer(){var t=this,a=function a(e){t.flag_fs?(t.flag_fs=!1,t.track_exitfs()):(t.track_enterfs(),t.flag_fs=!0)};document.addEventListener("fullscreenchange",a,!1),document.addEventListener("mozfullscreenchange",a,!1),document.addEventListener("webkitfullscreenchange",a,!1)}if(VimeoVideoPlayer.prototype={debug:!1,params:{},default_params:{dom_id:"video",id:"242973561",src:"242973561",autopause:!0,autoplay:!1,background:!1,byline:!1,color:"ffffff",width:480,height:360,loop:!1,muted:!1,playsinline:!0,portrait:!1,speed:!1,title:!1,transparent:!0},container:null,proxy:null,duration:null,playhead:null,volume:-1,ismobile:null,issafari:null,api:!1,dom_debug:null,eventList:["play","pause","ended","timeupdate","progress","seeked","texttrackchange","cuechange","cuepoint","volumechange","playbackratechange","bufferstart","bufferend","error","loaded"],flag_muted:!1,flag_playing:!1,flag_paused:!1,flag_finished:!1,flag_start:!0,flag_fs:!1,load_int:null,init_int:null,evaluate:function t(a){if(this.flag_playing=!1,this.playhead=null,this.duration=null,0===Object.keys(this.params).length)for(var e in this.default_params)this.params[e]=this.default_params[e];if(a&&a.constructor===Object)for(var i in a)switch(i){case"id":this.params.dom_id=a[i];break;case"src":this.params.id=a[i];break;case"startmuted":this.params.muted=a[i];break;case"inline":this.params.playsinline=a[i];break;case"chromeless":this.params.background=a[i];break;default:this.params[i]=a[i]}else a&&a.constructor===String?this.params.id=a:a&&a.constructor===Boolean||delete this.params.id;this.params.autoplay&&(this.ismobile?(this.params.autoplay=0,this.params.muted=0):this.issafari&&!this.params.muted&&(this.params.autoplay=0)),this.container||(this.container=document.getElementById(this.params.dom_id),this.container.setAttribute("data-vimeo-defer","")),this.container.offsetWidth>0&&this.container.offsetHeight>0&&(this.params.width=this.container.offsetWidth,this.params.height=this.container.offsetHeight)},init:function t(a){var e=this;window.Vimeo?(clearInterval(this.init_int),this.evaluate(a),this.api=!0,null===this.ismobile&&this.checkForMobile(),null===this.issafari&&this.checkForSafari(),this.params.id?this.load(a):this.trace(this.params,"params (init)")):this.init_int=setTimeout(function(){e.init(a)},1e3)},load:function t(a){var e=this;if(this.api){clearInterval(this.load_int),this.resetVariables(),this.resetPlayback(),this.resetTracking(),this.evaluate(a),this.trace(this.params,"params (load)"),this.proxy&&this.proxy.destroy(),this.proxy=new Vimeo.Player(this.params.dom_id,this.params);for(var i=function t(a){e.proxy.on(e.eventList[a],function(t){e.dlEventListener(e.eventList[a],t)})},s=0;s<this.eventList.length;s++)i(s)}else this.load_int=setTimeout(function(){e.load(a)},1e3)},callback_ready:function t(){this.trace("------------------ callback_ready")},callback_end:function t(){this.trace("------------------ callback_end")},callback_play:function t(){this.trace("------------------ callback_play")},callback_start:function t(){this.trace("------------------ callback_start")},callback_pause:function t(){this.trace("------------------ callback_pause")},callback_volumechange:function t(){this.trace("------------------ callback_volumechange")},callback_error:function t(a,e){this.trace(a,e)},track:{started:!1,q25:!1,q50:!1,q75:!1},resetTracking:function t(){this.track.started=!1,this.track.q25=!1,this.track.q50=!1,this.track.q75=!1},track_start:function t(){this.trace("------------------ track_start")},track_play:function t(){this.trace("------------------ track_play")},track_replay:function t(){this.trace("------------------ track_replay")},track_end:function t(){this.trace("------------------ track_end")},track_pause:function t(){this.trace("------------------ track_pause")},track_mute:function t(){this.trace("------------------ track_mute")},track_unmute:function t(){this.trace("------------------ track_unmute")},track_q25:function t(){this.trace("------------------ track_q25")},track_q50:function t(){this.trace("------------------ track_q50")},track_q75:function t(){this.trace("------------------ track_q75")},track_enterfs:function t(){this.trace("------------------ track_enterfs")},track_exitfs:function t(){this.trace("------------------ track_exitfs")},dlEventListener:function t(a,e){var i=this;switch("progress"!==a&&"timeupdate"!==a&&"volumechange"!==a&&this.trace(e,a),a){case"loaded":this.proxy.getVolume().then(function(t){i.volume=t,i.flag_muted=0===t}),this.proxy.getDuration().then(function(t){i.duration=t}),this.callback_ready();break;case"play":this.track.started&&this.flag_playing&&(this.track_play(),this.callback_play()),this.flag_playing=!0,this.flag_paused=!1;break;case"ended":this.flag_finished=!0,this.flag_playing=!1,this.flag_paused=!1,this.track_end(),this.callback_end(),this.resetTracking();break;case"pause":this.flag_paused=!0,this.track_pause(),this.callback_pause();break;case"seeked":this.params.autoplay&&this.flag_start&&(this.flag_start=!1,this.callback_error("------------------ callback_error","seek"));break;case"timeupdate":this.playhead=e.seconds;var s=100*e.percent;!this.track.started&&s>0&&(this.track.started=!0,this.flag_finished?this.track_replay():(this.flag_start=!1,this.track_start()),this.callback_play(),this.callback_start()),!0!==this.track.q25&&s>=25&&(this.track.q25=!0,this.track_q25()),!0!==this.track.q50&&s>=50&&(this.track.q50=!0,this.track_q50()),!0!==this.track.q75&&s>=75&&(this.track.q75=!0,this.track_q75()),this.callback_progress();break;case"volumechange":e.volume!=this.volume&&(0==this.volume&&this.flag_muted?(this.flag_muted=!1,this.track_unmute(),this.callback_volumechange()):0!=e.volume||this.flag_muted||(this.flag_muted=!0,this.track_mute(),this.callback_volumechange()),this.volume=e.volume);break;case"bufferend":this.params.autoplay&&this.flag_start&&(this.flag_start=!1,this.proxy.play().then(function(){i.trace("bufferend:","promise success")}).catch(function(){i.callback_error("------------------ callback_error","promise")}));break}},play:function t(){var a=this;this.proxy&&this.proxy.play().then(function(){a.trace("bufferend:","promise success")}).catch(function(){a.callback_error("------------------ callback_error","promise")})},pause:function t(){this.proxy&&this.proxy.pause()},stop:function t(){this.proxy&&this.proxy.stop(),this.resetTracking(),this.resetPlayback()},seek:function t(a){this.proxy&&this.proxy.seek(a)},replay:function t(){this.proxy&&(this.proxy.stop(),this.proxy.play())},mute:function t(){this.proxy&&this.proxy.mute()},unmute:function t(){this.proxy&&this.proxy.unMute()},isMuted:function t(){return this.flag_muted},isPlaying:function t(){return this.flag_playing},resetPlayback:function t(){this.flag_finished=!1,this.flag_playing=!1,this.flag_paused=!1,this.volume=-1,this.flag_muted=null,this.playhead=null,this.duration=null,this.playhead=null,this.duration=null},resetVariables:function t(){this.params={},this.flag_start=!0,this.flag_muted=!1,this.flag_fs=!1},destroy:function t(){this.proxy&&(this.stop(),this.resetVariables(),this.proxy.destroy(),this.proxy=null)},reflow:function t(){this.proxy&&this.proxy.setSize(this.container.offsetWidth,this.container.offsetHeight)},checkForSafari:function t(){this.issafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},checkForMobile:function t(){var a=["desktop"],e=!0;if(window.device)for(var i=0;i<a.length;i++){var s=void 0;s=new RegExp(a[i],"i"),window.document.documentElement.className.match(s)&&(e=!1)}else e="ontouchstart"in window;this.ismobile=!!e},trace:function t(a,e){this.debug&&(window.console&&window.console.log(a,e||""),this.dom_debug&&(this.dom_debug.innerHTML+=(e?e+": ":"")+a+"<br>"))}},!window.Vimeo){var checkDebug=!(!window.console||!window.debug);checkDebug&&console.log("LOADING Vimeo API");var loadFunction=function t(){void 0!==window.EventBus&&EventBus.dispatch("MAP_LOADED",window),checkDebug&&console.log("Vimeo API loaded")},s=document.createElement("script");s.type="text/javascript",s.src="https://player.vimeo.com/api/player.js",s.addEventListener("load",loadFunction,!1);var head=document.getElementsByTagName("head")[0];head.appendChild(s)}