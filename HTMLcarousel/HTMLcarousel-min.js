"use strict";function Carousel(){}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Carousel.prototype={debug:!0,mode:1,loop:!0,slide:"cover",clickable:!0,arrows:{size:64,margin:0},screenflow:{autostyle:!0,width:null,height:null,overlap:null,scale:null,fade:null},colors_bg:"#000",colors_prev:"#FFF",colors_next:"#FFF",colors_spin:"#FFF",colors_spin_bg:"rgba(0,0,0,0.4)",active_delay:500,dom_debug:null,currentSlide:0,currentInfo:null,dom_container:null,dom_slides:null,dom_net:null,dom_prev:null,dom_next:null,dom_spin:null,imageData:[],imageInfo:[],dom_index:{prev:null,now:null,next:null},movement:null,svg:{prev:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48" height="48" viewBox="0 0 48 48"><path d="M30.844 14.813l-9.188 9.188 9.188 9.188-2.813 2.813-12-12 12-12z"></path></svg>',next:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48" height="48" viewBox="0 0 48 48"><path d="M19.969 12l12 12-12 12-2.813-2.813 9.188-9.188-9.188-9.188z"></path></svg>',spin:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><path d="M16 0c-8.711 0-15.796 6.961-15.995 15.624 0.185-7.558 5.932-13.624 12.995-13.624 7.18 0 13 6.268 13 14 0 1.657 1.343 3 3 3s3-1.343 3-3c0-8.837-7.163-16-16-16zM16 32c8.711 0 15.796-6.961 15.995-15.624-0.185 7.558-5.932 13.624-12.995 13.624-7.18 0-13-6.268-13-14 0-1.657-1.343-3-3-3s-3 1.343-3 3c0 8.837 7.163 16 16 16z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" begin="0" dur="1s" repeatCount="indefinite" /></path></svg>'},ismobile:null,active:!0,checkForMobile:function e(){var t=["desktop"],i=!0;if("undefined"!=typeof device)for(var s=0;s<t.length;s++){var o=void 0;o=new RegExp(t[s],"i"),window.document.documentElement.className.match(o)&&(i=!1)}else i="ontouchstart"in window;i?(this.ismobile=!0,this.trace("mobile browser detected")):(this.ismobile=!1,this.trace("desktop browser detected"))},dom_template_prev:function e(){this.dom_prev=document.createElement("div"),this.dom_prev.innerHTML=this.svg.prev,this.dom_prev.getElementsByTagName("path")[0].style.fill=this.colors_prev,this.dom_prev.getElementsByTagName("svg")[0].style.height=this.arrows.size,this.dom_prev.getElementsByTagName("svg")[0].style.width=this.arrows.size,this.setVendor(this.dom_prev,"Filter","drop-shadow( 1px 1px 1px rgba(0,0,0,0.5) )")},dom_template_next:function e(){this.dom_next=document.createElement("div"),this.dom_next.innerHTML=this.svg.next,this.dom_next.getElementsByTagName("path")[0].style.fill=this.colors_next,this.dom_next.getElementsByTagName("svg")[0].style.height=this.arrows.size,this.dom_next.getElementsByTagName("svg")[0].style.width=this.arrows.size,this.setVendor(this.dom_next,"Filter","drop-shadow( -1px 1px 1px rgba(0,0,0,0.5) )")},dom_template_spin:function e(){this.dom_spin=document.createElement("div"),this.dom_spin.style.backgroundColor=this.colors_spin_bg,this.setVendor(this.dom_spin,"borderRadius","32px"),this.dom_spin.innerHTML=this.svg.spin,this.dom_spin.style.padding="5px",this.dom_spin.style.width="32px",this.dom_spin.style.height="32px",this.dom_spin.getElementsByTagName("path")[0].style.fill=this.colors_spin},init:function e(t,i){var s=this;if("string"==typeof i[0])for(var o in i)this.imageData.push(i[o]);else for(var n in i)this.imageData.push(i[n].src),this.imageInfo.push(i[n].info);if(this.imageData.length<2)return void alert("ABORTING INITIALIZATION:\nYou'll need at least two images else this slideshow is pointless");if(3===this.mode&&this.imageData.length<3&&(alert("You need at least three imageData for mode 3. Switching to default (1)"),this.mode=1),null===this.ismobile&&this.checkForMobile(),"object"===(void 0===t?"undefined":_typeof(t))?this.dom_container=document.getElementById(t.id):this.dom_container=document.getElementById(t),this.ismobile&&this.swipedetect(this.dom_container,function(e){switch(e){case"left":s.nextSlide();break;case"right":s.prevSlide();break;case"up":0===s.mode&&s.nextSlide();break;case"down":0===s.mode&&s.prevSlide();break}}),"static"===window.getComputedStyle(this.dom_container).getPropertyValue("position")&&(this.dom_container.style.position="relative"),this.dom_container.style.backgroundColor=this.colors_bg,this.dom_container.style.overflow="hidden",document.defaultView&&document.defaultView.getComputedStyle){var l=document.defaultView.getComputedStyle(this.dom_container,"");this.zindex=parseInt(l.getPropertyValue("z-index"),50)}else this.dom_container.currentStyle&&(this.zindex=parseInt(this.dom_container.currentStyle.zIndex,50));this.zindex||(this.zindex=0,this.trace("z-index for video container element not detected, make sure position property is set.\nzIndex set to 0")),this.dom_slides=document.createElement("div"),this.dom_slides.className="slides",this.dom_slides.style.position="relative",this.dom_slides.style.height="100%",this.dom_slides.style.width="100%",this.dom_slides.style.top=0,this.dom_slides.style.left=0,this.dom_slides.style.display="block",this.dom_slides.style.zIndex=this.zindex+1,this.dom_container.appendChild(this.dom_slides),this.dom_template_prev(),this.addClass(this.dom_prev,"cbtn"),this.addClass(this.dom_prev,"prev"),this.dom_prev.style.zIndex=this.zindex+6,this.dom_prev.style.display="block",this.dom_prev.style.position="absolute",this.dom_prev.style.cursor="pointer",this.dom_prev.style.opacity=0,this.dom_prev.onclick=function(){s.addClass(s,"clicked"),setTimeout(function(){s.removeClass(s.dom_prev,"clicked")},300),s.prevSlide()},this.dom_container.appendChild(this.dom_prev),this.dom_template_next(),this.addClass(this.dom_next,"cbtn"),this.addClass(this.dom_next,"next"),this.dom_next.style.zIndex=this.zindex+6,this.dom_next.style.display="block",this.dom_next.style.position="absolute",this.dom_next.style.cursor="pointer",this.dom_next.style.opacity=0,this.dom_next.onclick=function(){s.addClass(s,"clicked"),setTimeout(function(){s.removeClass(s.dom_next,"clicked")},300),s.nextSlide()},this.dom_container.appendChild(this.dom_next),this.dom_template_spin(),this.addClass(this.dom_spin,"spin"),this.dom_spin.style.zIndex=this.zindex+8,this.dom_spin.style.display="block",this.dom_spin.style.opacity=0,this.dom_spin.style.visibility="visible",this.dom_spin.style.position="absolute",this.dom_container.appendChild(this.dom_spin),this.reflow(),setTimeout(function(){s.setVendor(s.dom_prev,"Transition","all 0.3s ease-In"),s.setVendor(s.dom_next,"Transition","all 0.3s ease-In"),s.setVendor(s.dom_spin,"Transition","all 0.3s ease-In"),s.active=!1,s.wait(1),s.loadSlide(0)},600)},prevSlide:function e(){this.active&&(this.loadSlide(0,0),this.currentSlide--,this.currentSlide<0&&(this.currentSlide=this.imageData.length-1),this.trace(this.currentSlide),this.callback_slidePrev())},nextSlide:function e(){this.active&&(this.loadSlide(0,1),this.currentSlide++,this.currentSlide>this.imageData.length-1&&(this.currentSlide=0),this.trace(this.currentSlide),this.callback_slideNext())},checkEdges:function e(){this.trace("loop: "+this.loop),this.loop?(this.toggle(this.dom_prev,1),this.toggle(this.dom_next,1)):(0===this.currentSlide?this.toggle(this.dom_prev,0):this.toggle(this.dom_prev,1),this.currentSlide===this.imageData.length-1?this.toggle(this.dom_next,0):this.toggle(this.dom_next,1))},loadSlide:function e(t,i){var s=this,o=t+1,n=this.dom_slides,l=i?"right":"left",d=[],a=[];this.dom_index.next?(this.trace("no longer first"),"left"===l?(this.arrayRotate(this.imageData,!0),this.imageInfo.length&&this.arrayRotate(this.imageInfo,!0)):(this.arrayRotate(this.imageData),this.imageInfo.length&&this.arrayRotate(this.imageInfo)),o=3===this.mode?"left"===l?0:2:1,d.push(this.imageData[o])):(this.trace("first time"),this.arrayRotate(this.imageData,!0),this.imageInfo.length&&this.arrayRotate(this.imageInfo,!0),3===this.mode?(d.push(this.imageData[0]),d.push(this.imageData[1]),d.push(this.imageData[2])):d.push(this.imageData[1])),this.imageInfo.length?(this.currentInfo=this.imageInfo[1],a=this.imageInfo[1].preload?d.concat(this.imageInfo[1].preload):d):a=d,this.trace(a),this.load(a,function(){s.wait(0),s.callback_slideShow();var e=s.dom_index.next?s.dom_index.next:null,t=s.dom_index.prev?s.dom_index.prev:null,i=s.dom_index.now?s.dom_index.now:null,d=void 0,a=void 0,r=void 0,c=void 0,h=void 0,m=void 0,p=void 0,f=void 0,u=void 0,y=void 0,g=void 0,_=void 0,x=void 0;3===s.mode&&(e||i||t)&&(o="left"===l?0:2);var v=document.createElement("div");switch(v.className="slide hide",v.style.position="absolute",v.style.zIndex=s.zindex+5,v.style.backgroundImage="url("+s.imageData[o]+")",v.style.backgroundRepeat="no-repeat",v.style.backgroundPosition="center",3===s.mode&&s.addClass(v,"screenflow"),s.screenflow.autostyle&&(v.style.backgroundSize=s.slide,v.style.opacity=0),s.setVendor(v,"Transition","all 0.3s ease-In"),n.appendChild(v),3!==s.mode?(v.style.width="100%",v.style.height="100%",e||setTimeout(function(){v.style.left=0,v.style.opacity=1,s.dom_index.next=v,s.assignClicks(),s.active=!0},50)):e?(s.addClass(v,"hide"),s.addClass(v,"tertiary")):s.addClass(v,"center"),s.mode){case 1:d="left"===l?s.dom_container.offsetWidth:-1*s.dom_container.offsetWidth,a="left"===l?-1*s.dom_container.offsetWidth:s.dom_container.offsetWidth,e&&(v.style.opacity=1,v.style.left=a+"px",setTimeout(function(){v.style.left="0px",e.style.left=d+"px",setTimeout(function(){e.parentNode.removeChild(e),s.dom_index.next=v,s.assignClicks(),s.active=!0},s.active_delay)},200));break;case 2:d="left"===l?s.dom_container.offsetWidth:-1*s.dom_container.offsetWidth,a="left"===l?-1*s.dom_container.offsetWidth:s.dom_container.offsetWidth,e&&(e.style.zIndex=s.zindex+20,v.style.zIndex=s.zindex+10,v.style.opacity=1,v.style.left="0px",setTimeout(function(){e.style.left=d+"px",setTimeout(function(){e.parentNode.removeChild(e),s.dom_index.next=v,s.assignClicks(),s.active=!0},s.active_delay)},500));break;case 3:if(r=s.screenflow.width?s.screenflow.width:s.dom_container.offsetHeight,c=s.screenflow.height?s.screenflow.height:s.dom_container.offsetHeight,h=(s.dom_container.offsetWidth-r)/2,m=s.screenflow.scale?s.screenflow.scale:.7,p=Math.pow(m,2),x=s.screenflow.overlap?s.screenflow.overlap:0,s.screenflow.autostyle&&(v.style.width=r+"px",v.style.height=c+"px"),t||i||e)f=t.offsetLeft,u=e.offsetLeft,y=t.offsetLeft-r*m,g=e.offsetLeft+r*m,n.appendChild(v),s.screenflow.autostyle&&(v.style.width=r+"px",v.style.height=c+"px",v.style.opacity=0,s.setVendor(v,"Transform","scale("+p+")"),v.style.left=("left"===l?y:g)+"px"),s.addClass(v,"tertiary"),s.addClass(v,"left"===l?"left":"right"),setTimeout(function(){s.addClass(i,"secondary"),s.addClass(i,"left"===l?"right":"left"),s.removeClass(i,"center"),s.removeClass("left"===l?t:e,"secondary"),s.removeClass("left"===l?e:t,"secondary"),s.addClass("left"===l?e:t,"tertiary"),s.removeClass("left"===l?t:e,"left"===l?"left":"right"),s.addClass("left"===l?t:e,"center"),s.removeClass(v,"tertiary"),s.removeClass(v,"hide"),s.addClass(v,"secondary"),"left"===l?(e.style.zIndex=s.zindex+3,v.style.zIndex=s.zindex+3,s.screenflow.autostyle&&(e.style.left=g+"px",e.style.opacity=0,s.setVendor(e,"Transform","scale("+p+")"),i.style.left=u+"px",i.style.opacity=s.screenflow.fade?s.screenflow.fade:.7,s.setVendor(i,"Transform","scale("+m+")"),t.style.left=h+"px",t.style.opacity=1,s.setVendor(t,"Transform","scale(1.0)"),v.style.left=f+"px",v.style.opacity=s.screenflow.fade?s.screenflow.fade:.7,s.setVendor(v,"Transform","scale("+m+")")),setTimeout(function(){t.style.zIndex=s.zindex+6},50),setTimeout(function(){e.parentNode.removeChild(e),i.style.zIndex=s.zindex+4,t.style.zIndex=s.zindex+5,s.dom_index.prev=v,s.dom_index.now=t,s.dom_index.next=i,s.assignClicks(),s.active=!0},s.active_delay)):(t.style.zIndex=s.zindex+3,v.style.zIndex=s.zindex+3,s.screenflow.autostyle&&(t.style.left=y+"px",t.style.opacity=0,s.setVendor(t,"Transform","scale("+p+")"),i.style.left=f+"px",i.style.opacity=s.screenflow.fade?s.screenflow.fade:.7,s.setVendor(i,"Transform","scale("+m+")"),e.style.left=h+"px",e.style.opacity=1,s.setVendor(e,"Transform","scale(1.0)"),v.style.left=u+"px",v.style.opacity=s.screenflow.fade?s.screenflow.fade:.7,s.setVendor(v,"Transform","scale("+m+")")),setTimeout(function(){e.style.zIndex=s.zindex+6},50),setTimeout(function(){t.parentNode.removeChild(t),i.style.zIndex=s.zindex+4,e.style.zIndex=s.zindex+5,s.dom_index.prev=i,s.dom_index.now=e,s.dom_index.next=v,s.assignClicks(),s.active=!0},s.active_delay))},50);else{var w=document.createElement("div");w.style.position="absolute",w.style.backgroundImage="url("+s.imageData[o-1]+")",w.style.backgroundRepeat="no-repeat",w.style.backgroundPosition="center",w.style.zIndex=s.zindex+4,s.screenflow.autostyle&&(w.style.opacity=0,w.style.width=r+"px",w.style.height=c+"px",w.style.backgroundSize=s.slide,s.setVendor(w,"Transform","scale("+m+")")),w.className="slide secondary hide left screenflow",s.setVendor(w,"Transition","all 0.3s ease-In"),n.appendChild(w);var b=document.createElement("div");b.style.position="absolute",b.style.backgroundImage="url("+s.imageData[o+1]+")",b.style.backgroundRepeat="no-repeat",b.style.backgroundPosition="center",b.style.zIndex=s.zindex+4,s.screenflow.autostyle&&(b.style.opacity=0,b.style.width=r+"px",b.style.height=c+"px",b.style.backgroundSize=s.slide,s.setVendor(b,"Transform","scale("+m+")")),b.className="slide secondary hide right screenflow",s.setVendor(b,"Transition","all 0.3s ease-In"),n.appendChild(b),_=(w.offsetWidth-w.offsetWidth*m)/2,f=h-(w.offsetWidth+x-_),u=h+r+x-_,s.screenflow.autostyle&&(w.style.left=f+"px",b.style.left=u+"px",v.style.left=h+"px"),s.addClass(v,"center"),setTimeout(function(){s.removeClass(v,"hide"),s.removeClass(w,"hide"),s.removeClass(b,"hide"),s.screenflow.autostyle&&(v.style.opacity=1,w.style.opacity=s.screenflow.fade?s.screenflow.fade:.7,b.style.opacity=s.screenflow.fade?s.screenflow.fade:.7),s.dom_index.now=v,s.dom_index.prev=w,s.dom_index.next=b,s.assignClicks(),s.active=!0},s.active_delay)}break;default:e&&(e.style.zIndex=s.zindex+4,setTimeout(function(){v.style.opacity=1},50),setTimeout(function(){e.parentNode.removeChild(e),s.dom_index.next=v,s.assignClicks(),s.active=!0},s.active_delay))}s.checkEdges()})},assignClicks:function e(){var t=this;3===this.mode?(this.dom_index.prev.style.cursor="default",this.dom_index.prev.onclick=function(){(t.loop||0!==t.currentSlide&&t.active)&&t.prevSlide()},this.dom_index.next.style.cursor="default",this.dom_index.next.onclick=function(){(t.loop||t.currentSlide!==t.imageData.length-1&&t.active)&&t.nextSlide()},this.clickable&&(this.dom_index.now.style.cursor="pointer"),this.dom_index.now.onclick=function(){t.clickable&&t.active&&t.callback_slideClick()}):(this.clickable&&(this.dom_index.next.style.cursor="pointer"),this.dom_index.next.onclick=function(){t.clickable&&t.active&&t.callback_slideClick()})},callback_slidePrev:function e(){this.trace("------------------ callback_slidePrev")},callback_slideNext:function e(){this.trace("------------------ callback_slideNext")},callback_slideShow:function e(){this.trace("------------------ callback_slideShow")},callback_slideClick:function e(){this.trace("------------------ callback_slideClick")},toggle:function e(t,i){i?(t.style.opacity=0,t.style.display="block",setTimeout(function(){t.style.opacity=1},50)):(t.style.opacity=0,setTimeout(function(){t.style.display="none"},300))},wait:function e(t){this.active=!1,t?this.toggle(this.dom_spin,1):this.toggle(this.dom_spin,0)},get:function e(t){return document.querySelector(t)},reflow:function e(){this.dom_spin.style.top="50%",this.dom_spin.style.marginTop=-1*Number(this.dom_spin.offsetHeight/2)+"px",this.dom_spin.style.left="50%",this.dom_spin.style.marginLeft=-1*Number(this.dom_spin.offsetWidth/2)+"px",this.dom_prev.style.top="50%",this.dom_prev.style.marginTop=-1*Number(this.dom_prev.offsetHeight/2)+"px",this.dom_prev.style.left=this.arrows.margin+"px",this.dom_next.style.top="50%",this.dom_next.style.marginTop=-1*Number(this.dom_next.offsetHeight/2)+"px",this.dom_next.style.right=this.arrows.margin+"px"},setVendor:function e(t,i,s){var o=window.getComputedStyle(t,""),n=new RegExp(i+"$","i");for(var l in o)n.test(l)&&(t.style[l]=s)},loadedFiles:[],isLoaded:function e(t,i){for(var s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},load:function e(t,i){switch(void 0===t?"undefined":_typeof(t)){case"object":for(var s=0,o=function e(){++s===t.length&&i&&i()},n=function e(t){window.console&&console.log(t)},l=0;l<t.length;l++)if(this.isLoaded(t[l],this.loadedFiles))this.trace("already loaded "+t[l]),o();else{this.wait(1);var d=new Image;d.onload=o,d.onerror=n,d.src=t[l],this.loadedFiles.push(t[l])}break;default:if(this.isLoaded(t,this.loadedFiles))this.trace("already loaded "+t),i();else{this.wait(1);var a=new Image;a.onload=function(){i()},a.onerror=function(e){window.console&&console.log(e)},a.src=t,this.loadedFiles.push(t)}}},arrayRotate:function e(t,i){return i?(t.unshift(t.pop()),this.trace("array shifted left"),this.movement="right"):(t.push(t.shift()),this.trace("array shifted right"),this.movement="left"),t},trace:function e(t){this.debug&&(window.console&&window.console.log(t),this.dom_debug&&(this.dom_debug.innerHTML+=t+"<br>"))},addClass:function e(t,i){t.classList?t.classList.add(i):t.className+=" "+i},removeClass:function e(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")},swipedetect:function e(t,i){var s=t,o=void 0,n=void 0,l=void 0,d=void 0,a=void 0,r=void 0,c=150,h=100,m=300,p=void 0,f=void 0,u=i||function(e){};s.addEventListener("touchstart",function(e){var t=e.changedTouches[0];o="none",r=0,n=t.pageX,l=t.pageY,f=(new Date).getTime()},!1),s.addEventListener("touchmove",function(e){e.preventDefault()},!1),s.addEventListener("touchend",function(e){var t=e.changedTouches[0];d=t.pageX-n,a=t.pageY-l,p=(new Date).getTime()-f,p<=300&&(Math.abs(d)>=150&&Math.abs(a)<=100?o=d<0?"left":"right":Math.abs(a)>=150&&Math.abs(d)<=100&&(o=a<0?"up":"down")),u(o)},!1)},destroy:function e(){this.dom_container.innerHTML="",this.dom_container=null,this.dom_index={prev:null,now:null,next:null},this.currentSlide=0,this.currentInfo=null,this.imageData=[],this.imageInfo=[],this.dom_slides=null,this.dom_net=null,this.dom_prev=null,this.dom_next=null,this.dom_spin=null}};