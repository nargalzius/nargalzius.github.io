<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Joystick Expandable Lightbox Class</title>
    <link rel="stylesheet" type="text/css" href="../../../f/c/readme.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  </head>
  <body>
    <header id="info"><img id="logo" src="../../../img/joystick/logo.png" alt="Joystick Interactive"><h1>Joystick HTML Expandable Lightbox</h1>

<p>An implementation of an expandable ad, but it does it by loading an external file through a <a href="https://github.com/buckwilson/Lightbox_me">Lightbox</a> (iFrame).</p>

<p>This was created when I had to make a series of lightbox-based demos based on an existing ones - and realized that most if not all of them didn&#39;t have enough abstraction to be reusable without major tinkering for each implementation.</p>

<p>I&#39;ve improved the implementation, by sepearating the actual lightbox features and common animations present in all the demos, and a provision to inject other animations as callbacks. This allows a practical way of customization on both collapsed/expanding behavior without having to touch the core functionality.</p>

<p>I also added some other useful features - such as allowing an easy way to change the Lightbox width and height, image preloader, as well as being CSS agnostic as far as the core functionality goes. Best read the <a href="#api">API</a> or try it on the <a href="http://cdpn.io/LGpDJ">sanbox</a> to see all that it can do.</p>
      <h3>Resources</h3>
      <ul>
        <li> <a href="#usage">Getting Started</a></li>
        <li> <a target="_blank" href="http://cdpn.io/LGpDJ">Sandbox</a> (codepen)</li>
        <li> <a href="#api">Full Documentation</a></li>
        <li> <a target="_blank" href="http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.5/expandObj.js">Latest Build</a> (.js)</li>
        <li> <a href="http://nargalzius.github.io/downloads/expanding_lightbox/sample_1.5.zip">Sample File</a> (.zip)</li>
        <li> <a href="#changelog">Changelog</a></li>
      </ul><h3>Dependencies</h3>

<ul><li><a href="http://jquery.com">jQuery</a> </li><li><a href="http://www.greensock.com/gsap-js">GreenSock Animation Platform</a> </li><li><a href="https://github.com/buckwilson/Lightbox_me">Lightbox_me</a> </li></ul>
    </header>
    <section id="usage"><h1>Quick Start</h1>

<p>Include the following scripts in your document&#39;s <code>&lt;head&gt;</code></p>
      <div class="fullCode">
        <pre class="syntax html">&lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://nargalzius.github.io/ajax/lightbox_me/2.3/jquery.lightbox_me.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.5/expandObj.js&quot;&gt;&lt;/script&gt;
</pre>
      </div><p>Here is the minimum markup you&#39;ll need. The <code>.sans</code> class is optional (the script automatically applies sans-serif fonts to the class)</p>
      <div class="fullCode">
        <pre class="syntax html">&lt;!-- EXPANDED SECTION--&gt;
&lt;div id=&quot;expanded&quot;&gt;
 &lt;a id=&quot;close&quot;&gt;&lt;img src=&quot;http://nargalzius.github.io/img/joystick/lightbox_close.png&quot; class=&quot;btn&quot; /&gt;&lt;/a&gt;
 &lt;iframe id=&quot;expandFrame&quot; src=&quot;about:blank&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; class=&quot;iframe_cont&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;!-- COLLAPSED SECTION--&gt;
&lt;div id=&quot;collapsed&quot; class=&quot;sans&quot;&gt;
 &lt;div id=&quot;content&quot;&gt;
  &lt;button id=&quot;exp_btn&quot; class=&quot;btn&quot;&gt;&lt;/button&gt;
  &lt;div id=&quot;expandText&quot;&gt;Expanding...&lt;/div&gt;
  &lt;div id=&quot;expandBar&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;col_bg&quot;&gt;&lt;/div&gt;
  &lt;!-- MORE COLLAPSED CONTENT HERE --&gt;
 &lt;/div&gt;
&lt;/div&gt;
</pre>
      </div>
      <p>Finally, initialize it like so:</p>
      <div class="fullCode">
        <pre class="syntax javascript">$(document).ready(function(){
 expanding.init();
});
</pre>
      </div><p>Again, this is <em>minimal</em> code to get things working. Be sure to check out all the other &quot;features&quot; by playing with it in the <a href="http://codepen.io/nargalzius/pen/LGpDJ">sandbox</a></p>
    </section>
    <section id="api"><h1>API</h1>
      <ul>
        <li><strong><code>minW </code></strong><code>: number = </code><em> <code>300</code></em><br><strong><code>minH </code></strong><code>: number = </code><em> <code>250</code></em><br><strong><code>maxW </code></strong><code>: number = </code><em> <code>500</code></em><br><strong><code>maxH </code></strong><code>: number = </code><em> <code>250</code></em><p>The collapsed/expanded width/height. All [main] elements/animations (i.e. expanding bar &amp; animation, etc.) are automatically positioned based on these values.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>preload </code></strong><code>: array = </code><em> <code>null</code></em><p>Accepts a series of image urls. If present/set The unit will delay displaying itself until all the images have been loaded to the cache. This in effect will ensure that everything is ready (for animations, etc.) by the time the user sees it.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>rollover </code></strong><code>: boolean = </code><em> <code>true</code></em>
          <p>Sets the _type_ of expand trigger. Set to `false` if you wish for _click-to-expand_ functionality</p>
          <p>An expansion triggered by a click will bypass the expanding bar animation and immediately call the lightbox.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>hold </code></strong><code>: boolean = </code><em> <code>true</code></em><p>This flag was created to avoid accidentally triggering an expand for <code>rollover</code> enabled units. This is set to <code>true</code> by default. This essentially requires the user to keep the mouse over the trigger for a certain amount of time before the unit triggers the expand.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>delay </code></strong><code>: number = </code><em> <code>1</code></em><p>If <code>hold</code> is set to <em><code>true</code></em>, this serves as the threshold of which a user must keep the cursor over the trigger in order to expand the unit.</p>

<p>If <code>hold</code> is set to <em><code>false</code></em>, this acts as a &quot;rigged&quot; tween duration (for the expanding bar) before the ad expands.</p>

<p>If <code>rollover</code> is set to <em><code>false</code></em>, (i.e. <em>click-to-expand),</em> this value is ignored.</p>

<p>It&#39;s worth reiterating that expansions triggered through clicking (when avaiable) will <strong>always</strong> bypass the expanding bar animation and immediately call the lightbox.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>trigger </code></strong><code>: DOM element = </code><em> <code>$('#exp_btn')</code></em><p>Sets the expand trigger. By default, the entire collapsed unit is the trigger. But if you set it to a DOM element, only interaction with that element will trigger the expland.
If <code>exit</code> is set, the trigger will do the expand action while the background will clicktrhough. If it&#39;s not, then <strong>clicking</strong> on the background will trigger a manual expand.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>exit </code></strong><code>: string = </code><em><code>null</code></em><p>Intended for a URL string. If set, then the collapsed background (assuming <code>trigger</code> is set) and expanded background will be set to click-though to the exit URL.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>intro </code></strong><code>: function = </code><em><code>null</code></em><p>Allows you to set a custom intro function. By default, when the unit is ready to be shown, it simply fades-in the collapsed state. When <code>intro</code> is set, it instead immediately sets the opacity of the collapsed container to visible - and relies on your custom animation code for &quot;flair.&quot;</p>

<p>Triggers (click and/or rollover) for expansion will only work when the <code>isReady</code> variable is set to true. Normally, this is set automatically (e.g. after preloading or a straight-up <code>init()</code> without special parameters.</p>

<p>Enabling the custom intro disables this process. And the user is required to manually set the <code>isReady</code> after the [custom] animation is done. This can be achieved by either setting the variable directly (<code>expanding.isReady = true</code>) or calling the <code>expanding.ready()</code> function.</p>

<p>If the <code>exit</code> variable is set, clicking on the ad during the intro will result in a clickthrough action. This will then revert to the normal expansion action once the <code>isReady</code> is finally set to <em><code>true.</code></em></p>
        </li>
      </ul>
      <ul>
        <li><strong><code>expand </code></strong><code>: function = </code><em><code>null</code></em><p>Similar to <code>intro</code>, this allows you to run custom actions on expand should you need to.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>collapse </code></strong><code>: function = </code><em><code>null</code></em><p>Similar to <code>intro</code>, this allows you to run custom actions on collapse should you need to.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>exp_url </code></strong><code>: string = </code><em><code>'expanded.html'</code></em><p>Expanded url to be loaded into the lightbox (iframe). Default is <code>expanded.html</code> located in the same directory as the index file.</p>
        </li>
      </ul>
      <ul>
        <li><strong><code>isLegacy </code></strong><code>: boolean = </code><em><code>false</code></em><p>Normally, the expanding bar spans the entire width of the unit regardless of it&#39;s size. Setting <code>isLegacy</code> to <em><code>true</code></em> forces the script to use the old &quot;expanding&quot; animation (22px height, 128px max bar width, mixed case Verdana, etc.)</p>
        </li>
      </ul>
    </section>
    <section id="changelog"><h1>Changelog</h1>

<h2><a href="http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.5/expandObj.js">1.5</a></h2>

<ul><li>Added <code>isLegacy</code> flag (to use the old way of animating the expanding bar)</li></ul>

<h2><a href="http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.4/expandObj.js">1.4</a></h2>

<ul><li>Converted/integrated spinner to a pure JS generated one (using <a href="http://fgnass.github.io/spin.js">spin.js</a>)</li></ul>

<h2><a href="http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.3/expandObj.js">1.3</a></h2>

<ul><li>Renamed JS file from <code>expandLightboxObj</code> to <code>expandObj.js</code></li><li>Removed need for external css for core functionality</li><li>Various fallbacks depending on unit state (and errors)</li></ul>

<h2><a href="http://nargalzius.github.io/ajax/joystick/expanding_lightbox/1.2/expandLightboxObj.js">1.2</a></h2>

<ul><li>Renamed <code>userExpand</code> method to <code>expand</code></li><li>Renamed <code>userCollapse</code> method to <code>collapse</code></li></ul>

<h2>1.1</h2>

<ul><li>Converted to <code>expanding</code> object/class</li><li>Intergrated <code>preload</code> (image preloader) function</li><li>Added <code>intro</code> method for custom intro actions</li><li>Added <code>userExpand</code> method for custom expand actions</li><li>Added <code>userCollapse</code> method for custom collapse actions</li></ul>

<h2>1.0</h2>

<ul><li>Initial release</li></ul>
    </section>
    <script>
      $(document).ready(function() {
       $('#usage pre').each(function(i, e) {hljs.highlightBlock(e)});
      });
    </script>
  </body>
</html>